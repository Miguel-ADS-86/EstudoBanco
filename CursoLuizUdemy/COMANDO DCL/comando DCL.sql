---- COMANDO DCL (LINGUAGEM DE CONTROLE DE DADOS) -----------------------------


/*CRIANDO USUARIO SEM LOGIN*/
CREATE USER USER_DCL WITHOUT LOGIN;

/*DANDO PERMISSÃO PARA O USUÁRIO EXECUTAR SELECT E INSERT NA TABELA*/
GRANT SELECT, INSERT ON DBO.TB_DML TO USER_DCL

/*DESFAZER A PERMISSÃO GRANT PARA O COMANDO INSERT NA TABELA*/
REVOKE INSERT ON DBO.TB_DML TO USER_DCL

/*EXECUTAR CONSULTA COMO USUARIO USER_DCL*/
EXECUTE AS USER = 'USER_DCL'
SELECT * FROM TB_DML
REVERT;


/*NEGANDO PERMISSÃO DE SELECT AO USUARIO*/
DENY SELECT ON DBO.TB_DML TO USER_DCL

/*EXECUTAR CONSULTA COMO USUARIO USER_DCL, APÓS COMANDO DENY*/
EXECUTE AS USER = 'USER_DCL'
SELECT * FROM TB_DML
REVERT;
